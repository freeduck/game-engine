"#lang racket\n\n(require \"../main.rkt\"\n         \"./util.rkt\"\n         2htdp/image)\n\n(require racket/runtime-path)\n\n(define-runtime-path here \".\")\n\n(define me (build-path here \"hotswap.rkt\"))\n\n(define prev-modified #f)\n\n(define (file-modified? me)\n  (define modified \n    (and\n      (file-exists? me)\n      (file-or-directory-modify-seconds me)))  \n\n  (and modified prev-modified\n       (> modified prev-modified))\n  )\n\n(provide g)\n(define g \n  (game \n    input-manager\n    (red-square-enemy)\n    (red-square-enemy)\n    (blue-circle-avatar)))\n\n(require racket/rerequire)\n\n(define meta-g\n  (game\n    (level-manager \n      (for/stream ([i (in-naturals)])\n        (displayln \"Hot Swap\")\n\n        (define temp (make-temporary-file \"hotswap~a.rkt\" #f here))\n\n        (define this-s (file->string me))\n        (write-to-file #:exists 'replace\n          (regexp-replace #rx\"("